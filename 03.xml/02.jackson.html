


<!DOCTYPE html>


<html lang="es" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>3.2. Jackson &#8212; documentación de Acceso a datos - rolling</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" href="../_static/general.css" type="text/css" />
    <link rel="stylesheet" href="../_static/particular.css" type="text/css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=461dccb6"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=677778c1"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="../_static/translations.js?v=f85f4cfb"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>DOCUMENTATION_OPTIONS.pagename = '03.xml/02.jackson';</script>
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="next" title="3.3. BaseX" href="03.basex.html" />
    <link rel="prev" title="3.1. JAXP" href="01.jaxp.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="es"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Saltar al contenido principal</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Volver arriba</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Advertencia de versión"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.jpg" class="logo__image only-light" alt="documentación de Acceso a datos - rolling - Home"/>
    <script>document.write(`<img src="../_static/logo.jpg" class="logo__image only-dark" alt="documentación de Acceso a datos - rolling - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Búsqueda" aria-label="Búsqueda" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Búsqueda</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../01.archivos/index.html">1. Tratamiento de archivos</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../01.archivos/01.gestion.html">1.1. Gestión de archivos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../01.archivos/02.manipulacion.html">1.2. Consulta y manipulación de contenidos</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../02.formatos/index.html">2. Formatos de información</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../02.formatos/01.csv.html">2.1. <abbr title="Comma-Separated Values">CSV</abbr></a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../02.formatos/02.json.html">2.2. <abbr title="JavaScript Object Notation">JSON</abbr></a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../02.formatos/02.json/01.gson.html">2.2.1. GSON</a></li>
<li class="toctree-l3"><a class="reference internal" href="../02.formatos/02.json/02.jackson.html">2.2.2. Jackson</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../02.formatos/03.yaml.html">2.3. <abbr title="YAML Ain't Markup Language">YAML</abbr></a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">3. <abbr title="eXtensible Markup Language">XML</abbr></a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="01.jaxp.html">3.1. <abbr title="Java API for XML Processing">JAXP</abbr></a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">3.2. Jackson</a></li>
<li class="toctree-l2"><a class="reference internal" href="03.basex.html">3.3. BaseX</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../04.conector/index.html">4. Conectores</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../04.conector/01.basico.html">4.1. Operaciones básicas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../04.conector/02.datos.html">4.2. Datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../04.conector/03.transacciones.html">4.3. Transacciones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../04.conector/04.pool.html">4.4. <em>Pool</em> de conexiones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../04.conector/10.extras.html">4.5. Extras</a></li>
<li class="toctree-l2"><a class="reference internal" href="../04.conector/15.dao.html">4.6. Programación con conectores</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../05.orm/index.html">5. Herramientas <abbr title="Object-Relational Mapping">ORM</abbr></a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../05.orm/01.conf.html">5.1. Configuración</a></li>
<li class="toctree-l2"><a class="reference internal" href="../05.orm/02.basico.html">5.2. Operativa básica</a></li>
<li class="toctree-l2"><a class="reference internal" href="../05.orm/04.mapeo.html">5.3. Mapeo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../05.orm/08.transaction.html">5.4. Transacciones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../05.orm/09.dao.html">5.5. Estrategias de diseño</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../05.orm/10.crud.html">5.6. Operaciones <abbr title="Create, Read, Update, Delete">CRUD</abbr></a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../05.orm/10.crud/01.simples.html">5.6.1. Simples</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../05.orm/10.crud/02.avanzadas.html">5.6.2. Avanzadas</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../05.orm/10.crud/02.avanzadas/01.hql.html">5.6.2.1. <abbr title="Java Persistence Query Language">JPQL</abbr></a></li>
<li class="toctree-l4"><a class="reference internal" href="../05.orm/10.crud/02.avanzadas/02.criteria.html">5.6.2.2. Criteria API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../05.orm/10.crud/02.avanzadas/03.nativo.html">5.6.2.3. <abbr title="Structured Query Language">SQL</abbr> nativo</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../05.orm/15.extra.html">5.7. Otros aspectos</a></li>
</ul>
</details></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../99.ejercicios/index.html">Ejercicios</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../99.ejercicios/01.archivos.html">1. Archivos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../99.ejercicios/02.formatos.html">2. Formatos de información</a></li>
<li class="toctree-l2"><a class="reference internal" href="../99.ejercicios/03.xml.html">3. Formato <abbr title="eXtensible Markup Language">XML</abbr></a></li>
<li class="toctree-l2"><a class="reference internal" href="../99.ejercicios/04.conectores.html">4. <abbr title="Java DataBase Connectivity">JDBC</abbr></a></li>
<li class="toctree-l2"><a class="reference internal" href="../99.ejercicios/05.orm.html">5. <abbr title="Java Persistent API">JPA</abbr></a></li>
</ul>
</details></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../98.apendices/index.html">Apéndices</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../98.apendices/01.funcional.html">1. Java funcional</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../98.apendices/01.funcional/01.function.html">1.1. Interfaces funcionales</a></li>
<li class="toctree-l3"><a class="reference internal" href="../98.apendices/01.funcional/05.collection.html">1.2. Colecciones</a></li>
<li class="toctree-l3"><a class="reference internal" href="../98.apendices/01.funcional/10.flujos.html">1.3. Flujos</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../98.apendices/05.pattern.html">2. Patrones de diseño</a></li>
<li class="toctree-l2"><a class="reference internal" href="../98.apendices/10.logging.html">3. Sistema de registros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../98.apendices/15.cli.html">4. Análisis de la línea de órdenes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../98.apendices/80.maven.html">5. Maven</a></li>
<li class="toctree-l2"><a class="reference internal" href="../98.apendices/99.ide.html">6. Visual Studio Code</a></li>
</ul>
</details></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../97.orientaciones/index.html">Orientaciones pedagógicas</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Descarga esta pagina">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/03.xml/02.jackson.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Descargar archivo fuente"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Imprimir en PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Modo de pantalla completa"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="claro/oscuro" aria-label="claro/oscuro" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Búsqueda" aria-label="Búsqueda" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Jackson</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contenido </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preparativos">3.2.1. Preparativos</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#anotaciones">3.2.1.1. Anotaciones</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#envoltorio">3.2.1.2. Envoltorio</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#traductores">3.2.1.3. Traductores</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#escritura">3.2.2. Escritura</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lectura">3.2.3. Lectura</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="jackson">
<span id="xml-jackson"></span><h1><span class="section-number">3.2. </span>Jackson<a class="headerlink" href="#jackson" title="Link to this heading">#</a></h1>
<p>La otra estrategia para manipular el formato <abbr title="eXtensible Markup Language">XML</abbr> es traducirlo al modelo de
objetos de <em>Java</em>, estrategia que ya seguimos con <abbr title="JavaScript Object Notation">JSON</abbr> y con <abbr title="YAML Ain't Markup Language">YAML</abbr> y que,
como en el caso de estos otros dos formatos, también puede llevarse a cabo con
<em>Jackson</em>, para lo cual necesitaremos <a class="reference external" href="https://mvnrepository.com/artifact/com.fasterxml.jackson.dataformat/jackson-dataformat-xml/">jackson-dataformat-xml</a>.</p>
<p>Para ilustrar el uso de la librería tomaremos con ejemplo una versión <abbr title="eXtensible Markup Language">XML</abbr> del
<a class="reference internal" href="../02.formatos/02.json.html#json"><span class="std std-ref">archivo JSON que usamos en la unidad anterior</span></a>:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">centro.xml</span><a class="headerlink" href="#id1" title="Link to this code">#</a></div>
<div class="toggle highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;centro&gt;</span>
<span class="w">    </span><span class="nt">&lt;grupo</span><span class="w"> </span><span class="na">nivel=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">etapa=</span><span class="s">&quot;2&quot;</span><span class="w"> </span><span class="na">grupo=</span><span class="s">&quot;D&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;tutor&gt;</span>
<span class="w">            </span><span class="nt">&lt;nombre&gt;</span>Federico<span class="w"> </span>Arias<span class="w"> </span>Torres<span class="nt">&lt;/nombre&gt;</span>
<span class="w">            </span><span class="nt">&lt;especialidad&gt;</span>Inglés<span class="nt">&lt;/especialidad&gt;</span>
<span class="w">        </span><span class="nt">&lt;/tutor&gt;</span>
<span class="w">        </span><span class="nt">&lt;miembros&gt;</span>
<span class="w">            </span><span class="nt">&lt;alumno</span><span class="w"> </span><span class="na">nacimiento=</span><span class="s">&quot;15/05/2010&quot;</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;nombre&gt;</span>Matías<span class="w"> </span>Sánchez<span class="w"> </span>Aguado<span class="nt">&lt;/nombre&gt;</span>
<span class="w">            </span><span class="nt">&lt;/alumno&gt;</span>
<span class="w">            </span><span class="nt">&lt;alumno</span><span class="w"> </span><span class="na">nacimiento=</span><span class="s">&quot;25/03/2010&quot;</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;nombre&gt;</span>María<span class="w"> </span>Bonet<span class="w"> </span>Periáñez<span class="nt">&lt;/nombre&gt;</span>
<span class="w">            </span><span class="nt">&lt;/alumno&gt;</span>
<span class="w">        </span><span class="nt">&lt;/miembros&gt;</span>
<span class="w">    </span><span class="nt">&lt;/grupo&gt;</span>
<span class="w">    </span><span class="nt">&lt;grupo</span><span class="w"> </span><span class="na">nivel=</span><span class="s">&quot;2&quot;</span><span class="w"> </span><span class="na">etapa=</span><span class="s">&quot;2&quot;</span><span class="w"> </span><span class="na">grupo=</span><span class="s">&quot;A&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;tutor&gt;</span>
<span class="w">            </span><span class="nt">&lt;nombre&gt;</span>Gertrudis<span class="w"> </span>Avellaneda<span class="w"> </span>Pérez<span class="nt">&lt;/nombre&gt;</span>
<span class="w">            </span><span class="nt">&lt;especialidad&gt;</span>Francés<span class="nt">&lt;/especialidad&gt;</span>
<span class="w">        </span><span class="nt">&lt;/tutor&gt;</span>
<span class="w">        </span><span class="nt">&lt;miembros&gt;</span>
<span class="w">            </span><span class="nt">&lt;alumno</span><span class="w"> </span><span class="na">nacimiento=</span><span class="s">&quot;02/10/2008&quot;</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;nombre&gt;</span>Marcela<span class="w"> </span>Venegas<span class="w"> </span>Pancorbo<span class="nt">&lt;/nombre&gt;</span>
<span class="w">            </span><span class="nt">&lt;/alumno&gt;</span>
<span class="w">            </span><span class="nt">&lt;alumno</span><span class="w"> </span><span class="na">nacimiento=</span><span class="s">&quot;11/01/2009&quot;</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;nombre&gt;</span>Feliciano<span class="w"> </span>Martín<span class="w"> </span>Suárez<span class="nt">&lt;/nombre&gt;</span>
<span class="w">            </span><span class="nt">&lt;/alumno&gt;</span>
<span class="w">        </span><span class="nt">&lt;/miembros&gt;</span>
<span class="w">    </span><span class="nt">&lt;/grupo&gt;</span>
<span class="nt">&lt;/centro&gt;</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Obsérvese que directamente hemos traducido <code class="docutils literal notranslate"><span class="pre">Etapa</span></code> con el ordinal,
en vez de con las constantes de enumeración.</p>
</div>
<p>Nuestra intención es usar el modelo de datos que ya presentamos en la unidad
anterior:</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Grupo.java</span><a class="headerlink" href="#id2" title="Link to this code">#</a></div>
<div class="toggle highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.io.Serializable</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Arrays</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Grupo</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Serializable</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">nivel</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Etapa</span><span class="w"> </span><span class="n">etapa</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">grupo</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Tutor</span><span class="w"> </span><span class="n">tutor</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Alumno</span><span class="o">[]</span><span class="w"> </span><span class="n">miembros</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Grupo</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Grupo</span><span class="p">(</span><span class="kt">short</span><span class="w"> </span><span class="n">nivel</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">etapa</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">grupo</span><span class="p">,</span><span class="w"> </span><span class="n">Tutor</span><span class="w"> </span><span class="n">tutor</span><span class="p">,</span><span class="w"> </span><span class="n">Alumno</span><span class="o">[]</span><span class="w"> </span><span class="n">miembros</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">setNivel</span><span class="p">(</span><span class="n">nivel</span><span class="p">);</span>
<span class="w">        </span><span class="n">setEtapa</span><span class="p">(</span><span class="n">etapa</span><span class="p">);</span>
<span class="w">        </span><span class="n">setGrupo</span><span class="p">(</span><span class="n">grupo</span><span class="p">);</span>
<span class="w">        </span><span class="n">setTutor</span><span class="p">(</span><span class="n">tutor</span><span class="p">);</span>
<span class="w">        </span><span class="n">setMiembros</span><span class="p">(</span><span class="n">miembros</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="nf">getNivel</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">nivel</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setNivel</span><span class="p">(</span><span class="kt">short</span><span class="w"> </span><span class="n">nivel</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">nivel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nivel</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getEtapa</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">etapa</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setEtapa</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">etapa</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">etapa</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">etapa</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="nf">getGrupo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">grupo</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setGrupo</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">grupo</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">grupo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">grupo</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Tutor</span><span class="w"> </span><span class="nf">getTutor</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">tutor</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setTutor</span><span class="p">(</span><span class="n">Tutor</span><span class="w"> </span><span class="n">tutor</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">tutor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tutor</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Alumno</span><span class="o">[]</span><span class="w"> </span><span class="nf">getMiembros</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">miembros</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setMiembros</span><span class="p">(</span><span class="n">Alumno</span><span class="o">[]</span><span class="w"> </span><span class="n">miembros</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">miembros</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">miembros</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">nombre</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;%dº%s-%c&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nivel</span><span class="p">,</span><span class="w"> </span><span class="n">etapa</span><span class="p">,</span><span class="w"> </span><span class="n">grupo</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">toString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;%s (%s): %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nombre</span><span class="p">(),</span><span class="w"> </span><span class="n">tutor</span><span class="p">,</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">toString</span><span class="p">(</span><span class="n">miembros</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">Tutor.java</span><a class="headerlink" href="#id3" title="Link to this code">#</a></div>
<div class="toggle highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.io.Serializable</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Tutor</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Serializable</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">nombre</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">especialidad</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Tutor</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Tutor</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">nombre</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">especialidad</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">setNombre</span><span class="p">(</span><span class="n">nombre</span><span class="p">);</span>
<span class="w">        </span><span class="n">setEspecialidad</span><span class="p">(</span><span class="n">especialidad</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getNombre</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">nombre</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setNombre</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">nombre</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">nombre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nombre</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getEspecialidad</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">especialidad</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setEspecialidad</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">especialidad</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">especialidad</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">especialidad</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">toString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">nombre</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">Alumno.java</span><a class="headerlink" href="#id4" title="Link to this code">#</a></div>
<div class="toggle highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.io.Serializable</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Alumno</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Serializable</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">nombre</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">fechaNacimiento</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Alumno</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Alumno</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">nombre</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">edad</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">setNombre</span><span class="p">(</span><span class="n">nombre</span><span class="p">);</span>
<span class="w">        </span><span class="n">setEdad</span><span class="p">(</span><span class="n">edad</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getNombre</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">nombre</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setNombre</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">nombre</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="k">this</span><span class="p">.</span><span class="na">nombre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nombre</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="nf">getFechaNacimiento</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="n">fechaNacimiento</span>
<span class="w">   </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getEdad</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="n">Perido</span><span class="p">.</span><span class="na">between</span><span class="p">(</span><span class="n">fechaNacimiento</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">()).</span><span class="na">getYears</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setFechaNacimiento</span><span class="p">(</span><span class="n">LocalDate</span><span class="w"> </span><span class="n">nacimiento</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">fechaNacimiento</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nacimiento</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">toString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;%s: %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nombre</span><span class="p">,</span><span class="w"> </span><span class="n">edad</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>a los que habría que añadir <a class="reference internal" href="../02.formatos/02.json/02.jackson.html#etapa-enum"><span class="std std-ref">el enum Etapa</span></a>.</p>
<section id="preparativos">
<h2><span class="section-number">3.2.1. </span>Preparativos<a class="headerlink" href="#preparativos" title="Link to this heading">#</a></h2>
<p>Para lograr traducir entre el modelo de datos y <abbr title="eXtensible Markup Language">XML</abbr> necesitamos hacer varias
consideraciones:</p>
<ol class="arabic">
<li><p>Al margen de lo anterior, las anotaciones suelen ser necesarias en <abbr title="eXtensible Markup Language">XML</abbr>
porque en este formato la información se proporciona mediante nodos
elementos, pero también i mediante nodos atributo. En cambio, en el modelo de
objetos sólo existen los atributos del objeto. Por tanto, debe existir un
modo de indicar cuándo quiere mapearse un atributo de objeto a elemento y
cuando a atributo <abbr title="eXtensible Markup Language">XML</abbr>.</p></li>
<li><p>En <abbr title="eXtensible Markup Language">XML</abbr> el orden de los nodos elemento importa. Por eso es importante saber
especificar en qué orden queremos que se escriban los atributos si estos
generan nodos elemento. Se verá más adelante.</p></li>
<li><p><abbr title="eXtensible Markup Language">XML</abbr> introduce otra dificultad: en <abbr title="JavaScript Object Notation">JSON</abbr> una secuencia o es el elemento
raíz o el valor de un campo. En cambio, en <abbr title="eXtensible Markup Language">XML</abbr> la casuística es distinta,
porque no existen las secuencias por se, lo que existen son los nodos
elemento que contiene varios nodos elementos del mismo tipo. De este modo nos
podemos encontrar con:</p>
<ul>
<li><p>Elementos raíz sin interés que sólo existen porque necesitan contener a la
secuencia de elementos, como es el caso que nos ocupa. Obsérvese que en
esta version <abbr title="eXtensible Markup Language">XML</abbr> hemos tenido que crear un elemento raíz <code class="docutils literal notranslate"><span class="pre">&lt;centro&gt;</span></code>, que
no existía en la versión <abbr title="JavaScript Object Notation">JSON</abbr>.</p></li>
<li><p>La secuencia puede estar mezclada con otro elementos. Por ejemplo:</p>
<div class="no-copybutton highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;centro</span><span class="w"> </span><span class="na">nombre=</span><span class="s">&quot;IES Zopón&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;director&gt;</span>
<span class="w">        </span><span class="cm">&lt;!-- Datos del director --&gt;</span>
<span class="w">    </span><span class="nt">&lt;/director&gt;</span>

<span class="w">    </span><span class="nt">&lt;profesor</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="cm">&lt;!-- Datos del primer profesor --&gt;</span>
<span class="w">    </span><span class="nt">&lt;/profesor&gt;</span>

<span class="w">    </span><span class="nt">&lt;profesor</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;2&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="cm">&lt;!-- Datos del segundo profesor --&gt;</span>
<span class="w">    </span><span class="nt">&lt;/profesor&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- Más profesores --&gt;</span>
<span class="nt">&lt;/centro&gt;</span>
</pre></div>
</div>
</li>
</ul>
<blockquote>
<div><p>Obsérvese que la secuencia de profesores está contenida directamente dentro
de <em>centro</em>, a diferencia de lo que ocurriría en <abbr title="JavaScript Object Notation">JSON</abbr>, y además, <em>centro</em>
contiene otros dos nodos (<em>director</em> y <em>nombre</em>).</p>
<div class="no-copybutton highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">   </span><span class="nt">&quot;nombre&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;IES Zopón&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;director&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* ... */</span><span class="w"> </span><span class="p">},</span>
<span class="w">   </span><span class="nt">&quot;profesores&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">         </span><span class="c1">// profesor1</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">         </span><span class="c1">// profesor2</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
<section id="anotaciones">
<h3><span class="section-number">3.2.1.1. </span>Anotaciones<a class="headerlink" href="#anotaciones" title="Link to this heading">#</a></h3>
<p>Las particularidades de <abbr title="eXtensible Markup Language">XML</abbr> obligan a anotar las clases del modelo. Empecemos
por <code class="docutils literal notranslate"><span class="pre">Alumno</span></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AlumnoMixin</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;nacimiento&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1">// Sólo tiene efecto en JSON.</span>
<span class="hll"><span class="w">    </span><span class="nd">@JacksonXmlProperty</span><span class="p">(</span><span class="n">localName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;nacimiento&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">isAttribute</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>
</span><span class="w">    </span><span class="nd">@JsonFormat</span><span class="p">(</span><span class="n">shape</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JsonFormat</span><span class="p">.</span><span class="na">Shape</span><span class="p">.</span><span class="na">STRING</span><span class="p">,</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;dd/MM/yyyy&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDate</span><span class="w"> </span><span class="n">fechaNacimiento</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@JsonIgnore</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getEdad</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>En este caso debemos cambiar el nombre, pero no puede hacerse a través de la
anotación <code class="docutils literal notranslate"><span class="pre">&#64;JsonProperty</span></code> (que sobra totalmente), sino de
<code class="docutils literal notranslate"><span class="pre">&#64;JacksonXmlProperty</span></code>. De hecho, se ha mantenido la anotación
<code class="docutils literal notranslate"><span class="pre">&#64;JsonProperty</span></code> en previsión de que se quisiera también traducir a <abbr title="JavaScript Object Notation">JSON</abbr>, si
no es el caso, se puede eliminar por completo. La información, además, se
muestra en forma de nodo atributo, por lo es necesario especificarlo usando
también <code class="docutils literal notranslate"><span class="pre">&#64;JacksonXmlProperty</span></code>. Por otro lado, la anotación <code class="docutils literal notranslate"><span class="pre">&#64;JsonFormat</span></code> no
es ninguna novedad: ya la necesitamos en <abbr title="JavaScript Object Notation">JSON</abbr> para definir cómo escibir la
fecha como cadena.</p>
<p>Pasemos a <code class="docutils literal notranslate"><span class="pre">Grupo</span></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="nd">@JsonRootName</span><span class="p">(</span><span class="s">&quot;grupo&quot;</span><span class="p">)</span>
</span><span class="hll"><span class="nd">@JsonPropertyOrder</span><span class="p">({</span><span class="s">&quot;nivel&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;etapa&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;grupo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;tutor&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;miembros&quot;</span><span class="p">})</span>
</span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GrupoMixin</span><span class="w"> </span><span class="p">{</span>

<span class="hll"><span class="w">    </span><span class="nd">@JacksonXmlProperty</span><span class="p">(</span><span class="n">isAttribute</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>
</span><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">nivel</span><span class="p">;</span>

<span class="hll"><span class="w">    </span><span class="nd">@JacksonXmlProperty</span><span class="p">(</span><span class="n">isAttribute</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>
</span><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Etapa</span><span class="w"> </span><span class="n">etapa</span><span class="p">;</span>

<span class="hll"><span class="w">    </span><span class="nd">@JacksonXmlProperty</span><span class="p">(</span><span class="n">isAttribute</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>
</span><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">grupo</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@JacksonXmlElementWrapper</span><span class="p">(</span><span class="n">localName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;miembros&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">useWrapping</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>
<span class="hll"><span class="w">    </span><span class="nd">@JacksonXmlProperty</span><span class="p">(</span><span class="n">localName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;alumno&quot;</span><span class="p">)</span>
</span><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Alumno</span><span class="o">[]</span><span class="w"> </span><span class="n">miembros</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Aquí tenemos varias novedades:</p>
<ul>
<li><p>Nos vemos obligados a usar <code class="docutils literal notranslate"><span class="pre">&#64;JsonRootName</span></code> para que la etiqueta sea
<code class="docutils literal notranslate"><span class="pre">&lt;grupo&gt;</span></code> y no <code class="docutils literal notranslate"><span class="pre">&lt;Grupo&gt;</span></code>.</p></li>
<li><p>Como en <abbr title="eXtensible Markup Language">XML</abbr> es importante (al menos para los nodos elementos el orden), nos
vemos obligados a definirlo con <code class="docutils literal notranslate"><span class="pre">&#64;JsonPropertyOrder</span></code>.</p>
<div class="admonition caution">
<p class="admonition-title">Prudencia</p>
<p>Es probable que para <code class="docutils literal notranslate"><span class="pre">Tutor</span></code> necesitemos crear una clase
<code class="docutils literal notranslate"><span class="pre">TutorMixin</span></code> sólo para asegurarnos de que <code class="docutils literal notranslate"><span class="pre">&lt;nombre&gt;</span></code> aparezca antes que
<code class="docutils literal notranslate"><span class="pre">&lt;especialidad&gt;</span></code>.</p>
</div>
</li>
<li><p>Hay tres atributos que son nodos atributo, así que debemos declararlo.</p></li>
<li><p>El elemento <code class="docutils literal notranslate"><span class="pre">miembros</span></code> contiene elementos <code class="docutils literal notranslate"><span class="pre">&lt;alumno&gt;</span></code>. Sin anotación, la
traducción sería así:</p>
<div class="no-copybutton highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;miembros&gt;</span>
<span class="w">   </span><span class="nt">&lt;miembros</span><span class="w"> </span><span class="na">nacimiento=</span><span class="s">&quot;01/01/2001&quot;</span><span class="nt">&gt;</span>
<span class="w">       </span><span class="cm">&lt;!-- Información sobre el primer alumno --&gt;</span>
<span class="w">   </span><span class="nt">&lt;/miembros&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- Resto de alumnos --&gt;</span>
<span class="nt">&lt;/miembros&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">&#64;JacksonXmlElementWrapper</span></code> influye sobre el elemento contenedor de la
secuencia. En principio, la traducción es la predeterminada, pero al haber
usado <code class="docutils literal notranslate"><span class="pre">&#64;JacksonXmlProperty</span></code> la hemos alterado, así que es necesaria para
que <em>miembros</em> siga siendo <em>miembros</em>. Lo que sí podríamos habernos ahorrado
es especificar <code class="docutils literal notranslate"><span class="pre">useWrapping</span></code> ya que por defecto está a <code class="docutils literal notranslate"><span class="pre">true</span></code> y significa
que el elemento contenedor está presente. Podría no existir si hubiéramos
decidido incluir en el <abbr title="eXtensible Markup Language">XML</abbr> la secuencia de alumnos directamente dentro de
<code class="docutils literal notranslate"><span class="pre">&lt;centro&gt;</span></code> en cuyo caso deberíamos haberlo puesto a <code class="docutils literal notranslate"><span class="pre">false</span></code>. Por otro
lado, tenemos que cambiar el nombre de los elementos de <code class="docutils literal notranslate"><span class="pre">miembros</span></code> a
<code class="docutils literal notranslate"><span class="pre">alumno</span></code>, por lo que necesitamos usar <code class="docutils literal notranslate"><span class="pre">&#64;JacksonXmlProperty</span></code>.</p>
</li>
</ul>
</section>
<section id="envoltorio">
<h3><span class="section-number">3.2.1.2. </span>Envoltorio<a class="headerlink" href="#envoltorio" title="Link to this heading">#</a></h3>
<p>Otra gran diferencia respecto a la traducción a <abbr title="JavaScript Object Notation">JSON</abbr> es que en <abbr title="eXtensible Markup Language">XML</abbr> nos hemos
visto obligados a crear un elemento contenedor de la secuencia llamado
<code class="docutils literal notranslate"><span class="pre">&lt;centro&gt;</span></code>. No contiene más información que la propia secuencia, por lo que en
el modelo de datos no se traduce en una nueva clase. En <em>Java</em>, simplemente,
existirá un dato de tipo <code class="docutils literal notranslate"><span class="pre">Grupo[]</span></code> o <code class="docutils literal notranslate"><span class="pre">List&lt;Grupo&gt;</span></code>.</p>
<p>Por eso, para poder hacer la traducción a <abbr title="eXtensible Markup Language">XML</abbr> necesitamos añadir una clase
envoltorio auxiliar:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="nd">@JsonRootName</span><span class="p">(</span><span class="s">&quot;centro&quot;</span><span class="p">)</span>
</span><span class="kd">private</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GrupoWrapper</span><span class="w"> </span><span class="p">{</span>
<span class="hll"><span class="w">   </span><span class="nd">@JacksonXmlElementWrapper</span><span class="p">(</span><span class="n">useWrapping</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
</span><span class="hll"><span class="w">   </span><span class="nd">@JacksonXmlProperty</span><span class="p">(</span><span class="n">localName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;grupo&quot;</span><span class="p">)</span>
</span><span class="w">   </span><span class="kd">private</span><span class="w"> </span><span class="n">Grupo</span><span class="o">[]</span><span class="w"> </span><span class="n">grupos</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Las particularidades de este código son las siguientes:</p>
<ul class="simple">
<li><p>Necesitamos definir una clase auxiliar que represente al envoltorio
<code class="docutils literal notranslate"><span class="pre">&lt;centro&gt;</span></code>. Para ello hemos creado una clase <code class="docutils literal notranslate"><span class="pre">GrupoWrapper</span></code>.</p></li>
<li><p>En este caso, cada elemento <code class="docutils literal notranslate"><span class="pre">&lt;grupo&gt;</span></code> sí está directamente
incluido en <code class="docutils literal notranslate"><span class="pre">&lt;centro&gt;</span></code> por lo que sí es necesaria la anotación
<code class="docutils literal notranslate"><span class="pre">&#64;JacksonXmlElementWrapper</span></code> con <code class="docutils literal notranslate"><span class="pre">useWrapping</span></code> a <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p>El nombre del elemento es <code class="docutils literal notranslate"><span class="pre">&lt;grupo&gt;</span></code>, no <code class="docutils literal notranslate"><span class="pre">&lt;grupos&gt;</span></code>, así que es necesaria
también la anotación <code class="docutils literal notranslate"><span class="pre">&#64;JacksonXmlProperty</span></code>.</p></li>
</ul>
</section>
<section id="traductores">
<h3><span class="section-number">3.2.1.3. </span>Traductores<a class="headerlink" href="#traductores" title="Link to this heading">#</a></h3>
<p>En principio, como en el caso de <abbr title="JavaScript Object Notation">JSON</abbr> necesitamos el traductor para <code class="docutils literal notranslate"><span class="pre">Etapa</span></code>.
Debería ser idéntico y usarse igual, pero hay una pequeña diferencia:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Deserializer</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">ValueDeserializer</span><span class="o">&lt;</span><span class="n">Etapa</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Etapa</span><span class="w"> </span><span class="nf">deserialize</span><span class="p">(</span><span class="n">JsonParser</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">DeserializationContext</span><span class="w"> </span><span class="n">ctxt</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">JacksonException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="hll"><span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">etapa</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Integer</span><span class="p">.</span><span class="na">parseInt</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="na">getString</span><span class="p">());</span><span class="w">  </span><span class="c1">// No, p.getIntValue();</span>
</span><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">Etapa</span><span class="p">.</span><span class="na">indexOf</span><span class="p">(</span><span class="n">etapa</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">catch</span><span class="p">(</span><span class="n">NumberFormatException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">//logger.error(&quot;No se ha podido convertir {} a número&quot;,</span>
<span class="w">            </span><span class="c1">//p.getString());</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">catch</span><span class="p">(</span><span class="n">ArrayIndexOutOfBoundsException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">//logger.error(&quot;No existe la etapa {}&quot;, p.getString());</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="admonition-title">Prudencia</p>
<p>Si no hemos definido una gramática <abbr title="Xml Schema Definition">XSD</abbr> para el <abbr title="eXtensible Markup Language">XML</abbr>, todo son
cadenas, así que no podemos usar <code class="docutils literal notranslate"><span class="pre">.getIntValue()</span></code>. Lo cierto es que esta
versión también funciona para traducir el <abbr title="JavaScript Object Notation">JSON</abbr>, así que podríamos haberla
implementado directamente.</p>
</div>
</section>
</section>
<section id="escritura">
<span id="xml-jackson-write"></span><h2><span class="section-number">3.2.2. </span>Escritura<a class="headerlink" href="#escritura" title="Link to this heading">#</a></h2>
<p>Generar la salida en el programa principal es básicamente
igual que <a class="reference internal" href="../02.formatos/02.json/02.jackson.html#json-jackson-write"><span class="std std-ref">la escritura en el caso de JSON</span></a>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Path</span><span class="w"> </span><span class="n">archivo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Path</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">getProperty</span><span class="p">(</span><span class="s">&quot;java.io.tmpdir&quot;</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;claustro.xml&quot;</span><span class="p">);</span>

<span class="n">Grupo</span><span class="o">[]</span><span class="w"> </span><span class="n">grupos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Grupo</span><span class="o">[]</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="k">new</span><span class="w"> </span><span class="n">Grupo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">Etapa</span><span class="p">.</span><span class="na">ESO</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">New</span><span class="w"> </span><span class="nf">Tutor</span><span class="p">(</span><span class="s">&quot;Florencio Vázquez Méndez&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Inglés&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">new</span><span class="w"> </span><span class="n">Alumno</span><span class="p">(</span><span class="s">&quot;María Isabel Menézdez Roldán&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2010</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)),</span>
<span class="w">      </span><span class="k">new</span><span class="w"> </span><span class="n">Alumno</span><span class="p">(</span><span class="s">&quot;Francisco Macías Bermejo&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">))</span>
<span class="w">   </span><span class="p">}),</span>
<span class="w">   </span><span class="k">new</span><span class="w"> </span><span class="n">Grupo</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">Etapa</span><span class="p">.</span><span class="na">ESO</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;C&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">New</span><span class="w"> </span><span class="nf">Tutor</span><span class="p">(</span><span class="s">&quot;Petra Laynez Beltrán&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Francés&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">new</span><span class="w"> </span><span class="n">Alumno</span><span class="p">(</span><span class="s">&quot;Clara Ribera Paterna&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">)),</span>
<span class="w">      </span><span class="k">new</span><span class="w"> </span><span class="n">Alumno</span><span class="p">(</span><span class="s">&quot;Tania Macías Cordero&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">LocalDate</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mi">2010</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">))</span>
<span class="w">   </span><span class="p">})</span>
<span class="p">};</span>

<span class="n">XmlFactory</span><span class="w"> </span><span class="n">factory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">XmLFactory</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">   </span><span class="p">.</span><span class="na">enable</span><span class="p">(</span><span class="n">XmlWriteFeature</span><span class="p">.</span><span class="na">WRITE_XML_DECLARATION</span><span class="p">)</span>
<span class="w">   </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="n">MapperBuilder</span><span class="o">&lt;?</span><span class="p">,</span><span class="w"> </span><span class="o">?&gt;</span><span class="w"> </span><span class="n">builder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">XmlMapper</span><span class="p">.</span><span class="na">builder</span><span class="p">(</span><span class="n">factory</span><span class="p">)</span>
<span class="w">   </span><span class="p">.</span><span class="na">enable</span><span class="p">(</span><span class="n">SerializationFeature</span><span class="p">.</span><span class="na">INDENT_OUTPUT</span><span class="p">)</span>
<span class="w">   </span><span class="p">.</span><span class="na">addMixIn</span><span class="p">(</span><span class="n">Claustro</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">ClaustroMixin</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">   </span><span class="p">.</span><span class="na">addMixIn</span><span class="p">(</span><span class="n">Profesor</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">ProfesorMixin</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>

<span class="n">ObjectMapper</span><span class="w"> </span><span class="n">mapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">builder</span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="k">try</span><span class="w"> </span><span class="p">(</span><span class="n">OutputStream</span><span class="w"> </span><span class="n">st</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Files</span><span class="p">.</span><span class="na">newOutputStream</span><span class="p">(</span><span class="n">archivo</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">mapper</span><span class="p">.</span><span class="na">writeValue</span><span class="p">(</span><span class="n">st</span><span class="p">,</span><span class="w"> </span><span class="n">claustro</span><span class="p">);</span><span class="w">  </span><span class="c1">// Puede generar JacksonException</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="p">(</span><span class="n">JacksonException</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="n">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">err</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>También podríamos haber generado una cadena con la salida:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">contenido</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mapper</span><span class="p">.</span><span class="na">writeValueAsString</span><span class="p">(</span><span class="n">claustro</span><span class="p">);</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">contenido</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="p">(</span><span class="n">JacksonException</span><span class="w"> </span><span class="n">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">err</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Si <cite>plantilla</cite> fuera un <code class="docutils literal notranslate"><span class="pre">ArrayList</span></code> en vez de un array, el codigo
encargado de serializar en formato <abbr title="eXtensible Markup Language">XML</abbr> sería el mismo. Lo mismo puede
afirmarse en la lectura, que se verá a continuación.</p>
</div>
<p>Para traducir <strong>tipos no primitivos</strong>, basta <a class="reference internal" href="../02.formatos/02.json/02.jackson.html#json-jackson-no-primitivos"><span class="std std-ref">hacer exactamente lo mismo
que con JSON</span></a>.</p>
</section>
<section id="lectura">
<span id="xml-jackson-read"></span><h2><span class="section-number">3.2.3. </span>Lectura<a class="headerlink" href="#lectura" title="Link to this heading">#</a></h2>
<p>Habiendo definido las clases con anotaciones como en el apartado anterior, la
lectura del formato es <a class="reference internal" href="../02.formatos/02.json/02.jackson.html#json-jackson-read"><span class="std std-ref">prácticamente la misma que para JSON</span></a>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Path</span><span class="w"> </span><span class="n">archivo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Path</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">getProperty</span><span class="p">(</span><span class="s">&quot;user.home&quot;</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;claustro.xml&quot;</span><span class="p">);</span>

<span class="n">MapperBuilder</span><span class="o">&lt;?</span><span class="p">,</span><span class="w"> </span><span class="o">?&gt;</span><span class="w"> </span><span class="n">builder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">XmlFactory</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">   </span><span class="p">.</span><span class="na">addMixIn</span><span class="p">(</span><span class="n">Claustro</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">ClaustroMixin</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">   </span><span class="p">.</span><span class="na">addMixIn</span><span class="p">(</span><span class="n">Profesor</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">ProfesorMixin</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>

<span class="n">ObjectMapper</span><span class="w"> </span><span class="n">mapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">builder</span><span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="k">try</span><span class="w"> </span><span class="p">(</span><span class="n">InputStream</span><span class="w"> </span><span class="n">st</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Files</span><span class="p">.</span><span class="na">newInputStream</span><span class="p">(</span><span class="n">ruta</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="n">Claustro</span><span class="w"> </span><span class="n">claustro</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mapper</span><span class="p">.</span><span class="na">readValue</span><span class="p">(</span><span class="n">st</span><span class="p">,</span><span class="w"> </span><span class="n">Claustro</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">   </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">claustro</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="p">(</span><span class="n">JacksonIOException</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="n">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="n">err</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="01.jaxp.html"
       title="página anterior">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">anterior</p>
        <p class="prev-next-title"><span class="section-number">3.1. </span><abbr title="Java API for XML Processing">JAXP</abbr></p>
      </div>
    </a>
    <a class="right-next"
       href="03.basex.html"
       title="siguiente página">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">siguiente</p>
        <p class="prev-next-title"><span class="section-number">3.3. </span>BaseX</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contenido
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preparativos">3.2.1. Preparativos</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#anotaciones">3.2.1.1. Anotaciones</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#envoltorio">3.2.1.2. Envoltorio</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#traductores">3.2.1.3. Traductores</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#escritura">3.2.2. Escritura</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lectura">3.2.3. Lectura</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
Por José Miguel Sánchez Alés
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright CC BY 4.0, 2024-2025, José Miguel Sánchez Alés.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>